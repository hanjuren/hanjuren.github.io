<!doctype html>
<html lang="ko"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>태그: Node.js - Juryeon Blog</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Juryeon Blog"><meta name="msapplication-TileImage" content="/image/og_image.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Juryeon Blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="Juryeon Blog"><meta property="og:url" content="http://hanjuren.github.io/"><meta property="og:site_name" content="Juryeon Blog"><meta property="og:locale" content="ko_KR"><meta property="og:image" content="http://hanjuren.github.io/img/og_image.png"><meta property="article:author" content="han Ju Ryeon"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://hanjuren.github.io"},"headline":"Juryeon Blog","image":["http://hanjuren.github.io/img/og_image.png"],"author":{"@type":"Person","name":"han Ju Ryeon"},"publisher":{"@type":"Organization","name":"Juryeon Blog","logo":{"@type":"ImageObject","url":"http://hanjuren.github.io/images/bloglogo.png"}},"description":""}</script><link rel="icon" href="/image/og_image.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/rss2.xml" title="Juryeon Blog" type="application/rss+xml">
</head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/images/bloglogo.png" alt="Juryeon Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="external nofollow noopener noreferrer" title="Download on GitHub" href="https://github.com/hanjuren"><i class="fab fa-github"></i></a><a class="navbar-item search" title="검색" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-9-desktop is-9-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/tags">태그</a></li><li class="is-active"><a href="#" aria-current="page">Node.js</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2021-11-02T06:14:59.000Z" title="11/2/2021, 3:14:59 PM">2021-11-02</time>&nbsp;게시 됨</span><span class="level-item"><time datetime="2021-12-05T05:38:52.433Z" title="12/5/2021, 2:38:52 PM">2021-12-05</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Projects/">Projects</a><span> / </span><a class="link-muted" href="/categories/Projects/AptManagement/">AptManagement</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/11/02/project/apt/%EC%95%84%ED%8C%8C%ED%8A%B8-%EC%98%A8%EB%8F%84-%EC%8A%B5%EB%8F%84-%EC%A0%84%EB%A0%A5-%EC%8B%A4%EC%8B%9C%EA%B0%84-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B4%80%EB%A6%AC-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EB%A7%88%EB%AC%B4%EB%A6%AC%ED%95%98%EB%A9%B0/">아파트 온도, 습도, 전력 실시간 데이터 관리 프로젝트 마무리하며.</a></h1><div class="content"><h3 id="아파트-실시간-데이터-관리-프로젝트를-마무리하며-느꼈던점"><a href="#아파트-실시간-데이터-관리-프로젝트를-마무리하며-느꼈던점" class="headerlink" title="아파트 실시간 데이터 관리 프로젝트를 마무리하며 느꼈던점"></a>아파트 실시간 데이터 관리 프로젝트를 마무리하며 느꼈던점</h3><p>Node.js를 기반으로한 협업을 통해? 사실 현업에 계신 분 2명과 취준생 2명이 모인 스터디라 현업 개발자 분들 께서 많은 정보와 팁을 알려주신 재능기부 현장느낌이였다. 하지마 어디서도 들을 수 없는… 그런 정보들을 얻는 기회였다고 생각한다. 물론 프로젝트를 그분들께 의존하지는 않았다. 기본적인 세팅과 아이디어를 제공해주시고 거의 2명이 만든 그런 느낌이였다.  </p>
<p>Mqtt라는 통신기법에 대해 처음 알게되었고 어떤 기능을 위해 여러가지 고려하여 다양한 선택을 하는 생각의 폭을 넓힐 수 있는 좋은 경험으로 생각된다. 무턱대고 기능을 위해 내가 아는 것만 활용하여 물론 아는것이 많지도 않다. 하지만 틀에 갖혀서 개발하는 것보다 기능을 위해 많은 것을 생각하고 고려하면 또다른 방향으로도 더 좋은 결과를 낳을 수 있다는 것을 느끼는 프로젝트 였다.  </p>
<p>또한 과연 내가 백엔드 개발자를 꿈꾸지만 그에 맞는 준비를 하고 있었는가 그냥 무턱대고 코드만 치며 내것이 되었다라고 생각하던 것은 아니였을까 라는 의문을 나에게 던지는 값진 시간이 되었다.  </p>
<p>좋은 결과물을 위해서는 많은 공부와 시간을 투자할 준비가 되어있어야 한다. 새로운 것에 대한 도전 그리고 알아가기 위해 노력하는 자세 또 그것을 내 것으로 만들 준비 이러한 덕목이 앞으로 개발자가 되기 위해 내가 준비하는 과정에서 가장 중요하지 않을까 라는 생각이 들었던 프로젝트였다. </p>
<p>지난 프로젝트들을 정리하며 그때 내가 생각했던것을 정리하고 다시 생각을 해보며 그때 생각한 것을 나는 지키고 있는가. 모든 다짐을 지키지는 못했지만 이때 다짐했던 하나의 결과를 위해 고민을 수없이 하고 의문을 가지고 기능 구현에 안주하지 않는 자세를 지금까지 갖고 있었구나 라는 생각을 하게 된다. 어쩌면 프로젝트를 진행하는 과정에서 사용하는 기술, 언어, 모듈에 대한 이해도 모두 중요하지만 이러한 과정에서 나를 발전시킨 것이 아니였을까. 또 아직 더 발전해야 하는 나의 모습을 더욱 앞으로 나아가게 하는 과정이라고 생각된다.</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2021-11-02T05:52:13.000Z" title="11/2/2021, 2:52:13 PM">2021-11-02</time>&nbsp;게시 됨</span><span class="level-item"><time datetime="2021-12-05T05:38:52.433Z" title="12/5/2021, 2:38:52 PM">2021-12-05</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Projects/">Projects</a><span> / </span><a class="link-muted" href="/categories/Projects/AptManagement/">AptManagement</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/11/02/project/apt/%EC%95%84%ED%8C%8C%ED%8A%B8-%EC%98%A8%EB%8F%84-%EC%8A%B5%EB%8F%84-%EC%A0%84%EB%A0%A5-%EC%8B%A4%EC%8B%9C%EA%B0%84-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B4%80%EB%A6%AC-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-Part-2/">아파트 온도, 습도, 전력 실시간 데이터 관리 프로젝트 Part 2.</a></h1><div class="content"><h3 id="스케줄러를-통한-이메일-보내기-기능-구현"><a href="#스케줄러를-통한-이메일-보내기-기능-구현" class="headerlink" title="스케줄러를 통한 이메일 보내기 기능 구현"></a>스케줄러를 통한 이메일 보내기 기능 구현</h3><p>사용자의 실시간 데이터를 서버로 전송받고 데이터베이스에 저장하여 쌓인 데이터를 연산하여 사용자에게 특정한 일자에 보내도록 하는 기능을 제공하기로 했다.</p>
<p>가장 먼저 생각한 방식이자 이상적인 방법이였던 카카오톡으로 전송하기는 토이 프로젝트이기에 사업자 번호 등 카카오에서 요구하는 조건에 부딧혀 포기하고 구글 이메일 보내기로 방향을 틀게 되었다.</p>
<p>구상하는 방식은 이렇다.</p>
<ol>
<li>매월 1일 자정에 모든 동 호수의 데이터를 그래프로 그린다.</li>
<li>각 호수별 사용자이자 입주민이라는 가정하에 그래프 이미지를 이메일로 매월 1일 00시 15분에 발송한다.</li>
</ol>
<h3 id="스케줄러-활용"><a href="#스케줄러-활용" class="headerlink" title="스케줄러 활용"></a>스케줄러 활용</h3><p>우리는 <em>node-schedule</em>모듈을 활용하여 스케줄러를 작성하여 메일을 발송하기로 했다.</p>
<ol>
<li>그래프 이미지 그리기</li>
</ol>
<ul>
<li>모든 집의 데이터를 각각 그래프로 그려 이미지로 파일로 저장</li>
</ul>
<details markdown="1">
<summary>그래프 그리기</summary>

<!--summary 아래 빈칸 공백 두고 내용을 적는공간-->
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> get_month = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">	<span class="keyword">const</span> today = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">	<span class="keyword">return</span> today.getMonth() + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 아파트 단지, 동, 호 일별 데이터 가져오기</span></span><br><span class="line"><span class="keyword">const</span> sensorData = <span class="keyword">async</span> (Complex, Dong, Ho) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> exData = <span class="keyword">await</span> apt_Info.sensorFind(Complex, Dong, Ho);</span><br><span class="line">    <span class="keyword">return</span> exData;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 아파트의 모든 단지 동 호 정보 가져오기</span></span><br><span class="line"><span class="keyword">const</span> basename = <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> aptInfo = <span class="keyword">await</span> apt_Info.aptFind();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>; i &lt; aptInfo.length; i++) &#123;</span><br><span class="line">        <span class="comment">// 파일 이름 지정  =&gt; ex) 단지 동 호.png</span></span><br><span class="line">        <span class="keyword">let</span> fileName = <span class="string">`<span class="subst">$&#123;aptInfo[i].AptDong.apt_complex&#125;</span><span class="subst">$&#123;aptInfo[i].AptDong.apt_dong&#125;</span><span class="subst">$&#123;aptInfo[i].apt_ho&#125;</span>`</span>; </span><br><span class="line">        <span class="comment">// 단지, 동, 호의 센서 데이터 받아오기.</span></span><br><span class="line">        <span class="keyword">let</span> data = <span class="keyword">await</span> sensorData(aptInfo[i].AptDong.apt_complex, aptInfo[i].AptDong.apt_dong, aptInfo[i].apt_ho);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 차트를 그리기위한 날짜, 데이터 별 배열 분리</span></span><br><span class="line">        <span class="keyword">let</span> dateArray = []; </span><br><span class="line">        <span class="keyword">let</span> humiArray = [];</span><br><span class="line">        <span class="keyword">let</span> tempArray = [];</span><br><span class="line">        <span class="keyword">let</span> wattArray = [];</span><br><span class="line">        data.map(<span class="function">(<span class="params">sensor</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> newDate = <span class="keyword">new</span> <span class="built_in">Date</span>(sensor.dataValues.date);</span><br><span class="line">            dateArray.push(dateAndTime.format(newDate, <span class="string">&#x27;MM-DD&#x27;</span>));</span><br><span class="line">            tempArray.push(sensor.dataValues.humidityAVG);</span><br><span class="line">            humiArray.push(sensor.dataValues.temperatureAVG);</span><br><span class="line">            wattArray.push(sensor.dataValues.electricitySUM);</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 차트 그리기 함수로 파일 이름과 데이터 배열 전달</span></span><br><span class="line">        humiChart(fileName, humiArray, dateArray);</span><br><span class="line">        tempChart(fileName, tempArray, dateArray);</span><br><span class="line">        wattChart(fileName, wattArray, dateArray);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;차트 그리기 시작&quot;</span>);</span><br><span class="line">    logger.info(<span class="string">&#x27;create chart&#x27;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 아파트 모든 세대의 전력 차트 그리기</span></span><br><span class="line"><span class="keyword">const</span> wattChart = <span class="function">(<span class="params">fileName, data, date</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> filewatt = fileName + <span class="string">&quot;watt.png&quot;</span>;</span><br><span class="line">    saveChart(filewatt, <span class="string">&quot;Watt&quot;</span>, data, date);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 아파트 모든 세대 온도 차트 그리기</span></span><br><span class="line"><span class="keyword">const</span> tempChart = <span class="function">(<span class="params">fileName, data, date</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> filetemp = fileName + <span class="string">&quot;temp.png&quot;</span>;</span><br><span class="line">    saveChart(filetemp, <span class="string">&quot;Temp&quot;</span>, data, date);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 아파트 모든 세대 습도 차트 그리기</span></span><br><span class="line"><span class="keyword">const</span> humiChart = <span class="function">(<span class="params">fileName, data, date</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> filehumi = fileName + <span class="string">&quot;humi.png&quot;</span>;</span><br><span class="line">    saveChart(filehumi, <span class="string">&quot;Humi&quot;</span>, data, date);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//차트그리기 스케줄러</span></span><br><span class="line"><span class="keyword">const</span> drawChart = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 매달 자정에 파일 생성</span></span><br><span class="line">    <span class="keyword">const</span> jobs = schedule.scheduleJob(<span class="string">&#x27;0 0 01 * *&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        basename();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>이미지 그리기 코드</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ChartJsImage = <span class="built_in">require</span>(<span class="string">&#x27;chartjs-to-image&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> chart = <span class="keyword">new</span> ChartJsImage();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> days = <span class="function"><span class="keyword">function</span>(<span class="params">month,year</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>(year, month, <span class="number">0</span>).getDate();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> get_Month = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">	<span class="keyword">const</span> today = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> today.getMonth() + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> makeFolder = <span class="function">(<span class="params">dir</span>) =&gt;</span> &#123;</span><br><span class="line">	<span class="keyword">try</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> (!fs.existsSync(dir)) &#123;</span><br><span class="line">			fs.mkdirSync(dir)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">		<span class="built_in">console</span>.error(err)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> saveChart = <span class="keyword">async</span> (filename, type, data, date) =&gt; &#123;</span><br><span class="line">    <span class="comment">// 차트 label 지정</span></span><br><span class="line">	<span class="keyword">const</span> labels = date;</span><br><span class="line">    <span class="comment">// 차트 그리기</span></span><br><span class="line">	chart.setConfig(&#123;</span><br><span class="line">		<span class="attr">type</span>: <span class="string">&#x27;line&#x27;</span>,</span><br><span class="line">		<span class="attr">data</span>: &#123; <span class="attr">labels</span>: labels, <span class="attr">datasets</span>: [&#123; <span class="attr">label</span>: type, data &#125;] &#125;,</span><br><span class="line">	&#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 월별 / 데이터별 파일 구분하기</span></span><br><span class="line">	<span class="keyword">const</span> folderName = <span class="string">&#x27;./data/&#x27;</span> + (get_Month() - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">const</span> monthPath = folderName + <span class="string">&#x27;/&#x27;</span> + type;</span><br><span class="line">	<span class="comment">// Write file to disk</span></span><br><span class="line">	makeFolder(folderName);</span><br><span class="line">    makeFolder(monthPath);</span><br><span class="line">	<span class="keyword">await</span> chart.toFile(monthPath + <span class="string">&quot;/&quot;</span> +  filename);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = saveChart;</span><br></pre></td></tr></table></figure>
<p>각각의 파일은 월별 / 데이터 종류로 구분되어 저장되고 저장된 이미지를 사용자에게 전송한다.</p>
</details>

<ol start="2">
<li>이메일 보내기</li>
</ol>
<details markdown="1">
<summary>이메일 보내기</summary>

<!--summary 아래 빈칸 공백 두고 내용을 적는공간-->
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 이메일 보내기 스케줄러 시간 지정 </span></span><br><span class="line"><span class="keyword">const</span> mailResult = <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> userinfo = <span class="keyword">await</span> User.findAll(&#123;</span><br><span class="line">        <span class="attr">attributes</span>: [<span class="string">&#x27;uemail&#x27;</span>, <span class="string">&#x27;apt_ho&#x27;</span>],</span><br><span class="line">        <span class="attr">include</span>: &#123;</span><br><span class="line">            <span class="attr">model</span>: AptHo,</span><br><span class="line">            <span class="attr">include</span>: &#123;</span><br><span class="line">                <span class="attr">model</span>: AptDong,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line">    userinfo.map(<span class="function">(<span class="params">user</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> emailParam = &#123;</span><br><span class="line">            <span class="attr">toEmail</span>: <span class="string">`<span class="subst">$&#123;user.uemail&#125;</span>`</span>,</span><br><span class="line">            <span class="attr">subject</span>: <span class="string">`<span class="subst">$&#123;get_month() -<span class="number">1</span>&#125;</span>월 사용량입니다.`</span>,</span><br><span class="line">            <span class="attr">text</span>: <span class="string">`<span class="subst">$&#123;get_month() - <span class="number">1</span>&#125;</span>월 사용량입니다.`</span>,</span><br><span class="line">            <span class="comment">// ex)1단지101동101호</span></span><br><span class="line">            <span class="attr">name</span>: <span class="string">`<span class="subst">$&#123;user.AptHo.AptDong.apt_complex&#125;</span><span class="subst">$&#123;user.AptHo.AptDong.apt_dong&#125;</span><span class="subst">$&#123;user.AptHo.apt_ho&#125;</span>`</span>,</span><br><span class="line">            <span class="attr">month</span>: get_month() - <span class="number">1</span>,</span><br><span class="line">        &#125;;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// const rule = new schedule.RecurrenceRule();</span></span><br><span class="line">        <span class="comment">// const m = 50;</span></span><br><span class="line">        <span class="comment">// rule.minute = m;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 매달 1일 0시 15분 이메일 보내기 실행</span></span><br><span class="line">        <span class="keyword">const</span> j = schedule.scheduleJob(<span class="string">&#x27;13 13 02 * *&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// const j = schedule.scheduleJob(rule, async function() &#123;</span></span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&quot;send mail&quot;</span>);</span><br><span class="line">            <span class="comment">// await basename();</span></span><br><span class="line">            logger.info(<span class="string">&#x27;send mail&#x27;</span>);</span><br><span class="line">            mailSender.sendGmail(emailParam);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>테스트를 위해 시간을 조정하여 진행하였고 스케줄러 시간 부분만 원하는 시간으로 조정하면 정상적으로 전송이 된다.</p>
</details>

<h3 id="결과"><a href="#결과" class="headerlink" title="결과"></a>결과</h3><p><img src="https://ifh.cc/g/8AgDwm.png" title="이메일 결과"> <br></p>
<hr>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2021-11-02T04:54:57.000Z" title="11/2/2021, 1:54:57 PM">2021-11-02</time>&nbsp;게시 됨</span><span class="level-item"><time datetime="2021-12-05T05:38:52.432Z" title="12/5/2021, 2:38:52 PM">2021-12-05</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Projects/">Projects</a><span> / </span><a class="link-muted" href="/categories/Projects/AptManagement/">AptManagement</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/11/02/project/apt/%EC%95%84%ED%8C%8C%ED%8A%B8-%EC%98%A8%EB%8F%84-%EC%8A%B5%EB%8F%84-%EC%A0%84%EB%A0%A5-%EC%8B%A4%EC%8B%9C%EA%B0%84-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B4%80%EB%A6%AC-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-Part-1/">아파트 온도, 습도, 전력 실시간 데이터 관리 프로젝트 Part 1.</a></h1><div class="content"><h2 id="아파트-실시간-데이터-관리-프로젝트"><a href="#아파트-실시간-데이터-관리-프로젝트" class="headerlink" title="아파트 실시간 데이터 관리 프로젝트"></a>아파트 실시간 데이터 관리 프로젝트</h2><p>아파트 실시간 데이터를 전송받아 저장하고 사용자에게 데이터를 제공하는 서비스를 만들어보았다.<br>Node.js, express를 기반으로 하여 서버를 구성하고 사용자가 데이터를 볼 수 있는 View는 기본적인 html로 구성하여 백엔드 구축을 중점으로 한 프로젝트이다.</p>
<p><strong>실시간 데이터를 전송받기 위해 선택한 통신방법은 MQTT통신을 사용하였다.</strong><br>소켓 통신을 통해 실시간 데이터 처리를 하려했던 과정에서 MQTt통신으로 방법을 변경하게 된 이유는 다음과 같은 이유였다.</p>
<ol>
<li>Socket 과 Mqtt 통신 모두 실시간으로 데이터를 전송 할 수 있지만 Socket은 데이터의 전송을 하고 응답을 기다리고 있다. <br> 하지만 우리의 프로젝트는 실시간 데이터를 전송만 받을 뿐 다시 응답을 돌려 주지 않기 때문에 필요없는 자원이 소모된다. 그러나 Mqtt통신은 데이터의 전송을 하지만 응답을 대기하지 않는다.</li>
<li>실시간 통신을 위한 서버와의 연결이 비정상적으로 해제 되었을 때 Socket은 재 연결 까지 전송 받아야 하는 데이터가 유실된다. 반면 Mqtt통신은 연결이 해제 되어도 데이터를 연결이 될 때까지 보관 후 연결시 순차적으로 전송해주기 때문에 유실 가능성이 적다.</li>
<li>프로젝트에서 가공하는 데이터가 온도, 습도, 전력 과 같은 데이터이기 때문에 아두이노 같은 IOT기기에 적합한 통신 방법을 사용해 보기 위해서</li>
</ol>
<h3 id="그렇다면-WebSocket과-Mqtt는-무엇이-다른가"><a href="#그렇다면-WebSocket과-Mqtt는-무엇이-다른가" class="headerlink" title="그렇다면 WebSocket과 Mqtt는 무엇이 다른가???"></a>그렇다면 WebSocket과 Mqtt는 무엇이 다른가???</h3><ol>
<li>WebSocket이란 TCP기반 소켓 통신을 대체할 목적에서 등장한 양방향 통신기법이다.</li>
<li>Mqtt란 저전력, 신뢰할 수 없는 네트워크 등의 상황에서 사용하는 메시징 프로토콜이다.</li>
</ol>
<p>두가지 모두 실시간 통신이 가능하지만 두 방식을 직접 적으로 비교할 수는 없다고 한다. 이유를 알아보니 통신 레벨의 차이와 mqtt는 통신 프로토콜에 의존하지 않으며 패킷 구조로 데이터를 전송하는 차이점이 있다. 간단하게 두가지의 차이점을 알아보고 우리는 왜 Mqtt를 선택하여 실시간 온도 등의 데이터를 전송받기로 했는가에 대한 이유를 알아보자.</p></div><a class="article-more button is-small is-size-7" href="/2021/11/02/project/apt/%EC%95%84%ED%8C%8C%ED%8A%B8-%EC%98%A8%EB%8F%84-%EC%8A%B5%EB%8F%84-%EC%A0%84%EB%A0%A5-%EC%8B%A4%EC%8B%9C%EA%B0%84-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B4%80%EB%A6%AC-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-Part-1/#more">자세히 보기</a></article></div></div><div class="column column-left is-4-tablet is-3-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image mx-auto mb-2" style="width:129px;height:200px;"><img class="avatar" src="/images/hanjuryeon.jpg" alt="Han Ju Ryeon"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Han Ju Ryeon</p><p class="is-size-6 is-block">새로운것을 배우기 위해 노력하는 삶</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>경기도 의왕시</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">포스트</p><a href="/archives"><p class="title">63</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">카테고리</p><a href="/categories"><p class="title">22</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">태그</p><a href="/tags"><p class="title">22</p></a></div></div></nav><div class="level"><a class="level-item button is-info is-outlined is-rounded" href="/" target="_blank" rel="noopener">HOME</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="external nofollow noopener noreferrer" title="Github" href="https://github.com/hanjuren"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">링크</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://github.com/hanjuren" target="_blank" rel="external nofollow noopener noreferrer"><span class="level-left"><span class="level-item">github</span></span><span class="level-right"><span class="level-item tag">github.com</span></span></a></li><li><a class="level is-mobile" href="https://github.com/hanjuren" target="_blank" rel="external nofollow noopener noreferrer"><span class="level-left"><span class="level-item">notion</span></span><span class="level-right"><span class="level-item tag">github.com</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">카테고리</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/CodeDeploy/"><span class="level-start"><span class="level-item">CodeDeploy</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Docker/"><span class="level-start"><span class="level-item">Docker</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/Nodejs/"><span class="level-start"><span class="level-item">Nodejs</span></span><span class="level-end"><span class="level-item tag">15</span></span></a></li><li><a class="level is-mobile" href="/categories/Passport/"><span class="level-start"><span class="level-item">Passport</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/PostgreSQL/"><span class="level-start"><span class="level-item">PostgreSQL</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Projects/"><span class="level-start"><span class="level-item">Projects</span></span><span class="level-end"><span class="level-item tag">8</span></span></a><ul><li><a class="level is-mobile" href="/categories/Projects/AptManagement/"><span class="level-start"><span class="level-item">AptManagement</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Projects/CloneCoding/"><span class="level-start"><span class="level-item">CloneCoding</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Ruby/"><span class="level-start"><span class="level-item">Ruby</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/Ruby-on-Rails/"><span class="level-start"><span class="level-item">Ruby on Rails</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/SQLD/"><span class="level-start"><span class="level-item">SQLD</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Typeorm/"><span class="level-start"><span class="level-item">Typeorm</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Typerom/"><span class="level-start"><span class="level-item">Typerom</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/aws/"><span class="level-start"><span class="level-item">aws</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/categories/aws-serverless-express/"><span class="level-start"><span class="level-item">aws-serverless-express</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/docker-compose/"><span class="level-start"><span class="level-item">docker-compose</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/ec2/"><span class="level-start"><span class="level-item">ec2</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/express/"><span class="level-start"><span class="level-item">express</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/github/"><span class="level-start"><span class="level-item">github</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/javascript/"><span class="level-start"><span class="level-item">javascript</span></span><span class="level-end"><span class="level-item tag">15</span></span></a></li><li><a class="level is-mobile" href="/categories/lambda/"><span class="level-start"><span class="level-item">lambda</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/sequelize/"><span class="level-start"><span class="level-item">sequelize</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">최근 글</h3><article class="media"><div class="media-content"><p class="date"><time datetime="2022-06-15T01:49:11.000Z">2022-06-15</time></p><p class="title"><a href="/2022/06/15/express-serverless-%EA%B5%AC%EC%B6%95-2/">express-serverless 구축(2)</a></p><p class="categories"><a href="/categories/Nodejs/">Nodejs</a> / <a href="/categories/lambda/">lambda</a> / <a href="/categories/aws-serverless-express/">aws-serverless-express</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2022-06-15T01:10:45.000Z">2022-06-15</time></p><p class="title"><a href="/2022/06/15/nodejs/express-serverless-%EA%B5%AC%EC%B6%95-1/">express serverless 구축(1)</a></p><p class="categories"><a href="/categories/Nodejs/">Nodejs</a> / <a href="/categories/lambda/">lambda</a> / <a href="/categories/aws-serverless-express/">aws-serverless-express</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2022-05-24T11:21:44.000Z">2022-05-24</time></p><p class="title"><a href="/2022/05/24/aws/AWS-CLI-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0/">AWS CLI 설정하기</a></p><p class="categories"><a href="/categories/aws/">aws</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2022-05-11T06:33:56.000Z">2022-05-11</time></p><p class="title"><a href="/2022/05/11/ruby/Rails-Console-Json-Data/">Rails Console Json Data</a></p><p class="categories"><a href="/categories/Ruby/">Ruby</a> / <a href="/categories/Ruby-on-Rails/">Ruby on Rails</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2022-04-09T05:09:49.000Z">2022-04-09</time></p><p class="title"><a href="/2022/04/09/UNICODE/">유니코드란 무엇일까?</a></p></div></article></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">태그</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/CodeDeploy/"><span class="tag">CodeDeploy</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Docker/"><span class="tag">Docker</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Node-js/"><span class="tag">Node.js</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Nodejs/"><span class="tag">Nodejs</span><span class="tag">15</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Passport/"><span class="tag">Passport</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/PostgreSQL/"><span class="tag">PostgreSQL</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Projects/"><span class="tag">Projects</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Regexp/"><span class="tag">Regexp</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Ruby/"><span class="tag">Ruby</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Ruby-on-Rails/"><span class="tag">Ruby on Rails</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SQLD/"><span class="tag">SQLD</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TypeORM/"><span class="tag">TypeORM</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/aws/"><span class="tag">aws</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/aws-serverless-express/"><span class="tag">aws-serverless-express</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ec2/"><span class="tag">ec2</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/express/"><span class="tag">express</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/github/"><span class="tag">github</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/javascript/"><span class="tag">javascript</span><span class="tag">15</span></a></div><div class="control"><a class="tags has-addons" href="/tags/lambda/"><span class="tag">lambda</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/rubymine/"><span class="tag">rubymine</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/sequelize/"><span class="tag">sequelize</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/webstorm/"><span class="tag">webstorm</span><span class="tag">1</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/images/bloglogo.png" alt="Juryeon Blog" height="28"></a><p class="is-size-7"><span>&copy; 2022 han Ju Ryeon</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="external nofollow noopener noreferrer">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="external nofollow noopener noreferrer">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="external nofollow noopener noreferrer" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="external nofollow noopener noreferrer" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="external nofollow noopener noreferrer" title="Download on GitHub" href="https://github.com/hanjuren"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("ko");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="맨 위로" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "이 웹 사이트는 귀하의 경험을 향상시키기 위해 Cookie를 사용합니다.",
          dismiss: "무시",
          allow: "허용",
          deny: "거부",
          link: "더 알아보기",
          policy: "Cookie 정책",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="입력 하세요..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"입력 하세요...","untitled":"(제목 없음)","posts":"포스트","pages":"페이지","categories":"카테고리","tags":"태그"});
        });</script></body></html>