<!doctype html>
<html lang="ko"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Ruby 정규표현식 - Juryeon Blog</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Juryeon Blog"><meta name="msapplication-TileImage" content="/image/og_image.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Juryeon Blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="정규표현식그동안 공부를 하면서 서버에서 정규 표현식을 사용하는 일이 얼마나 있을까? 라는 의문과 필요하면 그때그때 찾아보면서 해도 상관없겠다 라는 마음으로 미루고 미룬 것 중 하나가 정규표현식이였다.간단한 코딩 테스트 문제에서도 등장했던 정규표현식인데 항상 마주하면 생각만큼 쉽지 않고 복잡한 정규표현식…왜 정규표현식이 서버 코드에서 사용하는 일이 많지 않을"><meta property="og:type" content="blog"><meta property="og:title" content="Ruby 정규표현식"><meta property="og:url" content="http://hanjuren.github.io/2022/01/30/ruby/Ruby-%EC%A0%95%EA%B7%9C%ED%91%9C%ED%98%84%EC%8B%9D/"><meta property="og:site_name" content="Juryeon Blog"><meta property="og:description" content="정규표현식그동안 공부를 하면서 서버에서 정규 표현식을 사용하는 일이 얼마나 있을까? 라는 의문과 필요하면 그때그때 찾아보면서 해도 상관없겠다 라는 마음으로 미루고 미룬 것 중 하나가 정규표현식이였다.간단한 코딩 테스트 문제에서도 등장했던 정규표현식인데 항상 마주하면 생각만큼 쉽지 않고 복잡한 정규표현식…왜 정규표현식이 서버 코드에서 사용하는 일이 많지 않을"><meta property="og:locale" content="ko_KR"><meta property="og:image" content="http://hanjuren.github.io/img/og_image.png"><meta property="article:published_time" content="2022-01-30T07:40:22.000Z"><meta property="article:modified_time" content="2022-01-30T07:57:21.004Z"><meta property="article:author" content="han Ju Ryeon"><meta property="article:tag" content="Ruby"><meta property="article:tag" content="Regexp"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://hanjuren.github.io/2022/01/30/ruby/Ruby-%EC%A0%95%EA%B7%9C%ED%91%9C%ED%98%84%EC%8B%9D/"},"headline":"Ruby 정규표현식","image":["http://hanjuren.github.io/img/og_image.png"],"datePublished":"2022-01-30T07:40:22.000Z","dateModified":"2022-01-30T07:57:21.004Z","author":{"@type":"Person","name":"han Ju Ryeon"},"publisher":{"@type":"Organization","name":"Juryeon Blog","logo":{"@type":"ImageObject","url":"http://hanjuren.github.io/images/bloglogo.png"}},"description":"정규표현식그동안 공부를 하면서 서버에서 정규 표현식을 사용하는 일이 얼마나 있을까? 라는 의문과 필요하면 그때그때 찾아보면서 해도 상관없겠다 라는 마음으로 미루고 미룬 것 중 하나가 정규표현식이였다.간단한 코딩 테스트 문제에서도 등장했던 정규표현식인데 항상 마주하면 생각만큼 쉽지 않고 복잡한 정규표현식…왜 정규표현식이 서버 코드에서 사용하는 일이 많지 않을"}</script><link rel="canonical" href="http://hanjuren.github.io/2022/01/30/ruby/Ruby-%EC%A0%95%EA%B7%9C%ED%91%9C%ED%98%84%EC%8B%9D/"><link rel="icon" href="/image/og_image.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/rss2.xml" title="Juryeon Blog" type="application/rss+xml">
</head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/images/bloglogo.png" alt="Juryeon Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="external nofollow noopener noreferrer" title="Download on GitHub" href="https://github.com/hanjuren"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="카탈로그" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="검색" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-9-desktop is-9-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2022-01-30T07:40:22.000Z" title="1/30/2022, 4:40:22 PM">2022-01-30</time>&nbsp;게시 됨</span><span class="level-item"><time datetime="2022-01-30T07:57:21.004Z" title="1/30/2022, 4:57:21 PM">2022-01-30</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Ruby/">Ruby</a></span></div></div><h1 class="title is-3 is-size-4-mobile">Ruby 정규표현식</h1><div class="content"><p><strong>정규표현식</strong><br>그동안 공부를 하면서 서버에서 정규 표현식을 사용하는 일이 얼마나 있을까? 라는 의문과 필요하면 그때그때 찾아보면서 해도 상관없겠다 라는 마음으로 미루고 미룬 것 중 하나가 정규표현식이였다.<br>간단한 코딩 테스트 문제에서도 등장했던 정규표현식인데 항상 마주하면 생각만큼 쉽지 않고 복잡한 정규표현식…<br>왜 정규표현식이 서버 코드에서 사용하는 일이 많지 않을 것이라고 생각했는지 의문이 들 정도로 회사 프로젝트에서 정규표현식의 필요성이 느껴졌다. 가장 많이 사용하는 곳은 Rspec을 활용한 테스트 케이스 코드 그리고 파일을 읽고 쓰는 과정에서 항상 등장하는 정규표현식.. </p>
<p>그래서 기본적인 정규표현식의 형태에 대해 알아보고자 정규표현식을 학습해보고자 한다. 모든 언어에서 정규표현식을 지원하지만 주로 사용하는 언어가 루비와 자바스크립트인 만큼 그리고 회사 백엔드 코드는 루비로 이루어져있기 때문에? 루비 기준으로 루비에서는 어떤 방식으로 정규표현식이 이루어 지는지 알아보았다.</p>
<blockquote>
<p>정규표현식이란?<br>정규표현식이란 특정한 규칙을 가진 문자열의 집합을 표현하는 데 사용하는 형식 언어이다.</p>
</blockquote>
<p>정규 표현식을 사용해야 하는 이유는 여러가지가 있겠지만 직접 직면한 문제에서 느낀점은 수많은 데이터 혹은 문자들에서 원하는 패턴의 문자열을 매칭하고 치환하는 작업을 할때 정규표현식을 모른다면?<br>일일히 원하는 결과를 위한 메서드를 만들어야 할 것이다. 하지만 정규표현식을 통한 연산을 통해 원하는 값을 얻고 변환하며 결과를 가지고 조건문에서 사용이 가능해진다면<br>하나하나 메서드를 만들 필요도 없고 생산성이 좋아진다. 물론 이런 작업을 위해 그래도 난 메서드를 만들어 보겠다는 사람이 굳이 존재할까 싶지만 정규표현식을 활용하여 많은 작업과 처리가 이루어 질 수 있기 때문에 기본적인 정규표현식에대해 학습해보고자 한다.  </p>
<span id="more"></span>
<h2 id="루비-정규-표현식"><a href="#루비-정규-표현식" class="headerlink" title="루비 정규 표현식"></a>루비 정규 표현식</h2><h3 id="패턴으로-문자열-매치하기"><a href="#패턴으로-문자열-매치하기" class="headerlink" title="패턴으로 문자열 매치하기"></a>패턴으로 문자열 매치하기</h3><p>루비에서는 <strong>=~</strong> 기호를 사용하여 지정한 패턴이 문자열에 매칭 되는지 판별한다. 문자열이 패턴에 매치한다면 <strong>=~</strong> 연산자는 매치된 위치를 숫자로 리턴한다.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">re_1 = <span class="regexp">/cat/</span> =~ <span class="string">&#x27;dog and cat&#x27;</span></span><br><span class="line">re_2 = <span class="regexp">/cat/</span> =~ <span class="string">&#x27;catch&#x27;</span></span><br><span class="line">re_3 = <span class="regexp">/cat/</span> =~ <span class="string">&#x27;Cat&#x27;</span></span><br><span class="line"></span><br><span class="line">pp re_1 <span class="comment"># =&gt; 8</span></span><br><span class="line">pp re_2 <span class="comment"># =&gt; 0</span></span><br><span class="line">pp re_3 <span class="comment"># =&gt; nil</span></span><br></pre></td></tr></table></figure>
<p>매치 결과가 true일 경우 매치되는 첫번째 인덱스 값을 리턴하며 결과가 false 라면 nil을 반환한다. 결과 반환값이 true || false 이기 때문에 해당 연산을 조건문에서도 사용이 가능하다.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">str = <span class="string">&#x27;dog and cat&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> /cat/ =~ str</span><br><span class="line">  pp <span class="string">&#x27;true&#x27;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  pp <span class="string">&#x27;false&#x27;</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># =&gt; &quot;true&quot;</span></span><br></pre></td></tr></table></figure>

<p>일치여부를 확인하는 =~ 연산자의 반대 의미인 !~ 연산자도 존재한다. 반대의 의미를 가지며 일치하지 않는 결과의 값을 반환하게 된다.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pp /cat/ !~ <span class="string">&#x27;dog and cat&#x27;</span> <span class="comment"># =&gt; &#x27;false&#x27;</span></span><br><span class="line">pp /cat/ !~ <span class="string">&#x27;Cat&#x27;</span> <span class="comment"># =&gt; &#x27;true&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="패턴으로-문자열-치환하기"><a href="#패턴으로-문자열-치환하기" class="headerlink" title="패턴으로 문자열 치환하기"></a>패턴으로 문자열 치환하기</h3><p><strong>sub</strong>메서드는 문자열에서 패턴과 일치하는 문자열을 치환 문자열로 치환해주는 메서드이다.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">str = <span class="string">&#x27;Dog and Cat&#x27;</span></span><br><span class="line">new_str = str.sub(<span class="regexp">/Cat/</span>, <span class="string">&#x27;Rabbit&#x27;</span>)</span><br><span class="line">pp new_str <span class="comment"># =&gt; &quot;Dog and Rabbit&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>sub</strong> 메서드는 일치하는 패턴의 첫번째 부분만 치환해주는 메서드로 전역적으로 문자열을 치환하기 위해서는 <strong>gsub</strong>메서드를 활용하면 된다.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">str_2 = <span class="string">&quot;ababab&quot;</span></span><br><span class="line">new_str_2 = str_2.gsub(<span class="regexp">/a/</span>, <span class="string">&#x27;*&#x27;</span>)</span><br><span class="line">pp new_str_2 <span class="comment"># =&gt; &quot;*b*b*b&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>sub, gsub</strong>메서드를 사용할 때 알아두면 좋은 점은 해당 메서드를 사용하여 반환되는 결과값은 기존 문자열 값에 영향을 주지 않고 새로운 문자열을 반환한다는 점이다.<br>기존 문자열을 변환하고 싶다면 메서드 뒤에 !를 사용하여 문자열 값을 직접 바꾸도록 해주면 된다. 또한 !를 사용하여 문자열을 변경하고자 할때는 패턴이 매치 될경우에만 문자열을 치환하며 패턴과 일치 하지 않다면<br>nil을 반환한다. 따라서 !를 사용하여 문자열을 치환하는 것은 조건문에서도 활용이 가능하다는 의미이다.</p>
<h3 id="정규-표현식에-대해-더-알아보기"><a href="#정규-표현식에-대해-더-알아보기" class="headerlink" title="정규 표현식에 대해 더 알아보기"></a>정규 표현식에 대해 더 알아보기</h3><p>루비란 무엇인가에서 루비의 모든 것은 객체로 활용된다고 했다. 따라서 정규표현식도 루비에서는 객체로 평가가 된다. 정확히는 Regexp의 인스턴스이다. 그러므로 정규표현식을 변수에 대입하거나 메서드 인자로 넘겨줄 수 있다.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">str = <span class="string">&#x27;Dog and Cat&#x27;</span></span><br><span class="line"><span class="comment"># 변수에 대입하기</span></span><br><span class="line">pattern = <span class="regexp">/Cat/</span></span><br><span class="line">pp pattern =~ str <span class="comment"># =&gt; 8</span></span><br></pre></td></tr></table></figure>

<p>정규표현식 생성은 지금까지 생성했던 방식처럼 리터럴을 이용한 생성도 가능하지만 Regexp 클래스의 .new 메서드 또는 %r{…} 문법을 사용하여 생성이 가능하다.</p>
<p>%r{…}문법은 “/“를 포함한 정규표현식 생성에 유용하다.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">str = <span class="string">&quot;Dog and Cat&quot;</span></span><br><span class="line">pp Regexp.new(<span class="string">&quot;Dog&quot;</span>) =~ str <span class="comment"># =&gt; 0</span></span><br><span class="line">pp %r&#123;Dog&#125; =~ str <span class="comment"># =&gt; 0</span></span><br></pre></td></tr></table></figure>

<h4 id="정규표현식-옵션"><a href="#정규표현식-옵션" class="headerlink" title="정규표현식 옵션"></a>정규표현식 옵션</h4><table>
<thead>
<tr>
<th align="center">옵션</th>
<th>설명</th>
</tr>
</thead>
<tbody><tr>
<td align="center">i</td>
<td>대소문자 구분 옵션(대소문자 구별을 하지 않는다.)</td>
</tr>
<tr>
<td align="center">o</td>
<td>정규표현식내 치환을 위한 평가를 한번만 진행</td>
</tr>
<tr>
<td align="center">m</td>
<td>멀티라인 모드</td>
</tr>
<tr>
<td align="center">x</td>
<td>확장모드 가독성을 위해 적절한 공백과 주석 활용이 가능하다.</td>
</tr>
</tbody></table>
<h4 id="패턴매치"><a href="#패턴매치" class="headerlink" title="패턴매치"></a>패턴매치</h4><p>정규표현식 객체를 생성하고 나면 **match, =~ !~**등의 연산자를 활용하여 문자열을 평가, 치환, 탐색 할 수 있다. 이때 연산을 위한 피연산자 중 하나는 정규표현식 객체여야 한다.</p>
<p>루비에서 문자열이 표현식에 의해 매치가 되고 나면 특수 변수에 값이 저장되는데 대부분의 루비 프로그래밍에서는 MatchData를 사용하여 값을 활용한다.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">regexp_test</span><span class="params">(str, pattern)</span></span></span><br><span class="line">  match = pattern.match(str)</span><br><span class="line">  <span class="keyword">if</span> match</span><br><span class="line">    pp <span class="string">&quot;<span class="subst">#&#123;match.pre_match&#125;</span> =&gt; <span class="subst">#&#123;match[<span class="number">0</span>]&#125;</span> =&gt; <span class="subst">#&#123;match.post_match&#125;</span>&quot;</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    pp <span class="string">&quot;No match&quot;</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">regexp_test(<span class="string">&#x27;hello my name is han juryeon&#x27;</span>, <span class="regexp">/is/</span>) <span class="comment"># =&gt; &quot;hello my name  =&gt; is =&gt;  han juryeon&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="복잡한-패턴"><a href="#복잡한-패턴" class="headerlink" title="복잡한 패턴"></a>복잡한 패턴</h4><p>. | () [] {} + \ ^ $ * ? 를 제외한 문자들은 자기 자신을 나타내는 문자열에 매치된다. 특수 문자들을 매치하기 위해서는 앞에 역슬래쉬를 넣어주면 된다.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">require</span> <span class="string">&#x27;../Regexp/regexp_4&#x27;</span></span><br><span class="line"></span><br><span class="line">regexp_test(<span class="string">&#x27;yes | no&#x27;</span>, <span class="regexp">/\|/</span>) <span class="comment"># =&gt; &quot;yes  =&gt; | =&gt;  no&quot;</span></span><br><span class="line">regexp_test(<span class="string">&#x27;yes (no)&#x27;</span>, <span class="regexp">/\(no\)/</span>) <span class="comment"># =&gt; &quot;yes  =&gt; (no) =&gt; &quot;</span></span><br><span class="line">regexp_test(<span class="string">&#x27;are you sure?&#x27;</span>, <span class="regexp">/e\?/</span>) <span class="comment"># =&gt; &quot;are you sur =&gt; e? =&gt; &quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="앵커"><a href="#앵커" class="headerlink" title="앵커"></a>앵커</h4><p>정규표현식은 기본적으로 문자열에서 처음 찾는 부분에 매치가 된다. 만약 문자열의 맨앞과 맨뒤에만 매치가 되도록 하고 싶다면 <strong>^, $</strong> 기호를 사용하면 된다.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">str = <span class="string">&quot;this is\nthe time&quot;</span></span><br><span class="line">regexp_test(str, <span class="regexp">/^the/</span>)</span><br><span class="line">regexp_test(str, <span class="regexp">/^this/</span>)</span><br><span class="line">regexp_test(str, <span class="regexp">/$is/</span>)</span><br><span class="line">regexp_test(str, <span class="regexp">/\Athe/</span>)</span><br><span class="line">regexp_test(str, <span class="regexp">/\Athis/</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">=begin</span></span><br><span class="line"><span class="comment">&quot;this is\n&quot; + &quot; =&gt; the =&gt;  time&quot;</span></span><br><span class="line"><span class="comment">&quot; =&gt; this =&gt;  is\n&quot; + &quot;the time&quot;</span></span><br><span class="line"><span class="comment">&quot;No match&quot;</span></span><br><span class="line"><span class="comment">&quot;No match&quot;</span></span><br><span class="line"><span class="comment">&quot; =&gt; this =&gt;  is\n&quot; + &quot;the time&quot;</span></span><br><span class="line"><span class="comment">=end</span></span><br></pre></td></tr></table></figure>

<h4 id="문자-클래스"><a href="#문자-클래스" class="headerlink" title="문자 클래스"></a>문자 클래스</h4><p>문자 클래스란 대괄호 안에 있는 문자들의 집합을 의미한다. [aeiou]는 모음의 집합이고 [,:;!?]은 구두점에 매치된다. 이러한 방식을 활용한 정규표현식 표현도 가능해진다.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">str_2 = <span class="string">&quot;Price $12.&quot;</span></span><br><span class="line">regexp_test(str_2, <span class="regexp">/[aeiou]/</span>)</span><br><span class="line">regexp_test(str_2, <span class="regexp">/[\s]/</span>)</span><br><span class="line">regexp_test(str_2, <span class="regexp">/[.]/</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">=begin</span></span><br><span class="line"><span class="comment">&quot;Pr =&gt; i =&gt; ce $12.&quot;</span></span><br><span class="line"><span class="comment">&quot;Price =&gt;   =&gt; $12.&quot;</span></span><br><span class="line"><span class="comment">&quot;Price $12 =&gt; . =&gt; &quot;</span></span><br><span class="line"><span class="comment">=end</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>시퀀스</th>
<th>의미</th>
</tr>
</thead>
<tbody><tr>
<td>\d</td>
<td>십진수</td>
</tr>
<tr>
<td>\D</td>
<td>십진수를 제외한 모든 문자열</td>
</tr>
<tr>
<td>\h</td>
<td>십육진수 문자</td>
</tr>
<tr>
<td>\H</td>
<td>십육진수 문자를 제외한 모든 문자</td>
</tr>
<tr>
<td>\R</td>
<td>일반적인 줄바꿈 문자</td>
</tr>
<tr>
<td>\s</td>
<td>공백</td>
</tr>
<tr>
<td>\S</td>
<td>공백을 제회한 문자</td>
</tr>
<tr>
<td>\w</td>
<td>단어 문자</td>
</tr>
<tr>
<td>\W</td>
<td>단어 문자를 제회한 모든 문자</td>
</tr>
<tr>
<td>\X</td>
<td>확장 유니코드 문자소</td>
</tr>
</tbody></table>
<p>대괄호 내에서 c1-c2시퀀스를 사용시 두개의 시퀀스를 포함한 사이의 모든 문자와 매치가 된다.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&#x27;see [The PickAxe-page 123]&#x27;</span></span><br><span class="line">regexp_test(a, <span class="regexp">/[A-F]/</span>)</span><br><span class="line">regexp_test(a, <span class="regexp">/[A-Fa-f]/</span>)</span><br><span class="line">regexp_test(a, <span class="regexp">/[0-9]/</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">=begin</span></span><br><span class="line"><span class="comment">&quot;see [The Pick =&gt; A =&gt; xe-page 123]&quot;</span></span><br><span class="line"><span class="comment">&quot;s =&gt; e =&gt; e [The PickAxe-page 123]&quot;</span></span><br><span class="line"><span class="comment">&quot;see [The PickAxe-page  =&gt; 1 =&gt; 23]&quot;</span></span><br><span class="line"><span class="comment">=end</span></span><br></pre></td></tr></table></figure>

<h4 id="선택"><a href="#선택" class="headerlink" title="선택"></a>선택</h4><p><strong>|</strong> 기호는 역슬래쉬와 함께 사용해야 문자로 취급이 된다. 역슬래쉬로 사용하지 않는다면 표현식의 일부로 취급이 된다.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">b = <span class="string">&#x27;red ball blue sky&#x27;</span></span><br><span class="line">regexp_test(b, <span class="regexp">/d|e/</span>) <span class="comment"># =&gt; &quot;r =&gt; e =&gt; d ball blue sky&quot;</span></span><br><span class="line">regexp_test(b, <span class="regexp">/al|lu/</span>) <span class="comment"># =&gt; &quot;red b =&gt; al =&gt; l blue sky&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="그룹"><a href="#그룹" class="headerlink" title="그룹"></a>그룹</h4><p>괄호를 사용하여 정규 표현식 내부에서 일부를 그룹으로 묶어줄 수 있다.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 아래의 표현식은 하나의 a 와 하나 혹은 다수의 n에 매치된다.</span></span><br><span class="line">regexp_test(<span class="string">&#x27;banana&#x27;</span>, <span class="regexp">/an+/</span>) <span class="comment"># =&gt; &quot;b =&gt; an =&gt; ana&quot;</span></span><br><span class="line"><span class="comment"># 아래의 표현식은 하나 혹은 여러개의 an에 매치된다.</span></span><br><span class="line">regexp_test(<span class="string">&#x27;banana&#x27;</span>, <span class="regexp">/(an)+/</span>) <span class="comment"># =&gt; &quot;b =&gt; anan =&gt; a&quot;</span></span><br></pre></td></tr></table></figure>

<p>그룹화 하여 매치된 결과는 다양한 방식으로 활용이 가능하다. 괄호는 매치된 결과를 모아주고 이러한 결과를 다른 정규표현식에서 사용하거나 루비 프로그램 내부에서 사용이 가능하다.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">/(\d\d)<span class="symbol">:</span>(\d\d)(..)/ =~ <span class="string">&quot;12:50am&quot;</span></span><br><span class="line">pp <span class="string">&quot;Hour is <span class="subst">#&#123;<span class="variable">$1</span>&#125;</span> Minute is <span class="subst">#&#123;<span class="variable">$2</span>&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line">/((\d\d)<span class="symbol">:</span>(\d\d))(..)/ =~ <span class="string">&quot;12:50am&quot;</span></span><br><span class="line">pp <span class="string">&quot;Time is <span class="subst">#&#123;<span class="variable">$1</span>&#125;</span>&quot;</span></span><br><span class="line">pp <span class="string">&quot;Hour is <span class="subst">#&#123;<span class="variable">$2</span>&#125;</span> Minute is <span class="subst">#&#123;<span class="variable">$3</span>&#125;</span>&quot;</span></span><br><span class="line">pp <span class="string">&quot;AM/PM is <span class="subst">#&#123;<span class="variable">$4</span>&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">=begin</span></span><br><span class="line"><span class="comment">&quot;Hour is 12 Minute is 50&quot;</span></span><br><span class="line"><span class="comment">&quot;Time is 12:50&quot;</span></span><br><span class="line"><span class="comment">&quot;Hour is 12 Minute is 50&quot;</span></span><br><span class="line"><span class="comment">&quot;AM/PM is am&quot;</span></span><br><span class="line"><span class="comment">=end</span></span><br></pre></td></tr></table></figure>
<p>동일한 형식으로 match메서드를 활용한다면 매치되는 인덱스값을 이용하면 된다.</p>
<p>또한 매치된 내용을 번호가 아닌 이름으로 참조 할 수 있으며 그룹을 시작하는 괄호에서 ?&lt;..&gt;형식을 사용하면 된다.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">/(<span class="string">?&lt;</span>hour&gt;\d\d)<span class="symbol">:</span>(<span class="string">?&lt;</span>minute&gt;\d\d)(<span class="string">?&lt;</span>am_or_pm&gt;..)/ =~ <span class="string">&quot;12:50am&quot;</span></span><br><span class="line">pp <span class="string">&quot;Hour is <span class="subst">#&#123;hour&#125;</span>&quot;</span></span><br><span class="line">pp <span class="string">&quot;Minute is <span class="subst">#&#123;minute&#125;</span>&quot;</span></span><br><span class="line">pp <span class="string">&quot;AM/PM is <span class="subst">#&#123;am_or_pm&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">=begin</span></span><br><span class="line"><span class="comment">&quot;Hour is 12&quot;</span></span><br><span class="line"><span class="comment">&quot;Minute is 50&quot;</span></span><br><span class="line"><span class="comment">&quot;AM/PM is am&quot;</span></span><br><span class="line"><span class="comment">=end</span></span><br></pre></td></tr></table></figure>
<hr>
</div><div class="article-licensing box"><div class="licensing-title"><p>Ruby 정규표현식</p><p><a href="http://hanjuren.github.io/2022/01/30/ruby/Ruby-정규표현식/">http://hanjuren.github.io/2022/01/30/ruby/Ruby-정규표현식/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>han Ju Ryeon</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2022-01-30</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2022-01-30</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="external nofollow noopener noreferrer" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="external nofollow noopener noreferrer" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="external nofollow noopener noreferrer" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/Ruby/">Ruby</a><a class="link-muted mr-2" rel="tag" href="/tags/Regexp/">Regexp</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2022/01/30/ruby/Ruby-%EB%A9%94%EC%84%9C%EB%93%9C/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Ruby 메서드</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2022/01/28/ruby/Ruby-%ED%8C%8C%EC%9D%BC-%EC%9D%BD%EA%B8%B0-%EC%93%B0%EA%B8%B0/"><span class="level-item">Ruby 파일 읽기,쓰기</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">댓글</h3><div class="notification is-danger">You forgot to set the <code>shortname</code> for Disqus. Please set it in <code>_config.yml</code>.</div></div></div></div><div class="column column-left is-4-tablet is-3-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/images/profile.png" alt="Han Ju Ryeon"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Han Ju Ryeon</p><p class="is-size-6 is-block">새로운것을 배우기 위해 노력하는 삶</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>경기도 의왕시</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">포스트</p><a href="/archives"><p class="title">58</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">카테고리</p><a href="/categories"><p class="title">20</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">태그</p><a href="/tags"><p class="title">20</p></a></div></div></nav><div class="level"><a class="level-item button is-info is-outlined is-rounded" href="/" target="_blank" rel="noopener">HOME</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="external nofollow noopener noreferrer" title="Github" href="https://github.com/hanjuren"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">카탈로그</h3><ul class="menu-list"><li><a class="level is-mobile" href="#루비-정규-표현식"><span class="level-left"><span class="level-item">1</span><span class="level-item">루비 정규 표현식</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#패턴으로-문자열-매치하기"><span class="level-left"><span class="level-item">1.1</span><span class="level-item">패턴으로 문자열 매치하기</span></span></a></li><li><a class="level is-mobile" href="#패턴으로-문자열-치환하기"><span class="level-left"><span class="level-item">1.2</span><span class="level-item">패턴으로 문자열 치환하기</span></span></a></li><li><a class="level is-mobile" href="#정규-표현식에-대해-더-알아보기"><span class="level-left"><span class="level-item">1.3</span><span class="level-item">정규 표현식에 대해 더 알아보기</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#정규표현식-옵션"><span class="level-left"><span class="level-item">1.3.1</span><span class="level-item">정규표현식 옵션</span></span></a></li><li><a class="level is-mobile" href="#패턴매치"><span class="level-left"><span class="level-item">1.3.2</span><span class="level-item">패턴매치</span></span></a></li><li><a class="level is-mobile" href="#복잡한-패턴"><span class="level-left"><span class="level-item">1.3.3</span><span class="level-item">복잡한 패턴</span></span></a></li><li><a class="level is-mobile" href="#앵커"><span class="level-left"><span class="level-item">1.3.4</span><span class="level-item">앵커</span></span></a></li><li><a class="level is-mobile" href="#문자-클래스"><span class="level-left"><span class="level-item">1.3.5</span><span class="level-item">문자 클래스</span></span></a></li><li><a class="level is-mobile" href="#선택"><span class="level-left"><span class="level-item">1.3.6</span><span class="level-item">선택</span></span></a></li><li><a class="level is-mobile" href="#그룹"><span class="level-left"><span class="level-item">1.3.7</span><span class="level-item">그룹</span></span></a></li></ul></li></ul></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/images/bloglogo.png" alt="Juryeon Blog" height="28"></a><p class="is-size-7"><span>&copy; 2022 han Ju Ryeon</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="external nofollow noopener noreferrer">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="external nofollow noopener noreferrer">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="external nofollow noopener noreferrer" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="external nofollow noopener noreferrer" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="external nofollow noopener noreferrer" title="Download on GitHub" href="https://github.com/hanjuren"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("ko");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="맨 위로" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "이 웹 사이트는 귀하의 경험을 향상시키기 위해 Cookie를 사용합니다.",
          dismiss: "무시",
          allow: "허용",
          deny: "거부",
          link: "더 알아보기",
          policy: "Cookie 정책",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="입력 하세요..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"입력 하세요...","untitled":"(제목 없음)","posts":"포스트","pages":"페이지","categories":"카테고리","tags":"태그"});
        });</script></body></html>